{"data":{"site":{"siteMetadata":{"title":"Gerald is coming","subtitle":"Leave me alone","copyright":"Â© All rights reserved.","author":{"name":"Gerald L.","twitter":"gera2ld"},"disqusShortname":"","url":"https://lumen.netlify.com"}},"markdownRemark":{"id":"ccb10d62-c22e-5477-9324-af218480b5a2","html":"<p>Userscripts are injected into web pages according to predefined rules. However, the rules do not always satisfy users for different reasons. In such cases, we need blacklist to exclude some web pages for all scripts.</p>\n<h3>Blacklist use cases</h3>\n<ul>\n<li>\n<p>hostnames</p>\n<p>In most cases, we may want to add simply hostnames to exclude.</p>\n</li>\n<li>\n<p><code class=\"language-text\">@exclude-match</code> rules</p>\n<p>Since match patterns are safer to match URLs, we prefer to use <code class=\"language-text\">@exclude-match</code> rules to exclude URLs more flexibly.</p>\n</li>\n<li>\n<p><code class=\"language-text\">@exclude</code> rules</p>\n<p>They are commonly supported by userscripts, so we should just keep them work.</p>\n</li>\n</ul>\n<h3>Blacklist patterns</h3>\n<p>Taken all use cases into account, the blacklist may have following patterns:</p>\n<ul>\n<li>\n<p>hostnames</p>\n<p>A string without slashes, e.g. <code class=\"language-text\">example.com</code>, <code class=\"language-text\">*.example.com</code>.</p>\n</li>\n<li>\n<p><a href=\"https://developer.chrome.com/extensions/match_patterns\">match patterns</a></p>\n<p>A string with scheme, hostname and pathname patterns, e.g. <code class=\"language-text\">*://*/*</code>, <code class=\"language-text\">https://www.google.com/</code>.</p>\n</li>\n<li>\n<p><a href=\"https://wiki.greasespot.net/Include_and_exclude_rules\"><code class=\"language-text\">@exclude</code> rules</a></p>\n<p>A string prefixed with <code class=\"language-text\">@exclude</code>, e.g. <code class=\"language-text\">@exclude https://*</code>.</p>\n</li>\n<li>\n<p>comments</p>\n<p>A string starting with <code class=\"language-text\">#</code>, will be ignored.</p>\n</li>\n</ul>\n<p>Here is a full example for blacklist:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># hostnames\nwww.google.com\n\n# @exclude-match rules\n*://twitter.com/*\n\n# @exclude rules\n@exclude https://example.com/*</code></pre></div>\n<h3>Whitelist patterns</h3>\n<p>For some people who want to disable Violentmonkey for most websites, a whitelist is needed.</p>\n<p>To work as a whitelist, we can use following patterns:</p>\n<ul>\n<li>\n<p><a href=\"https://developer.chrome.com/extensions/match_patterns\"><code class=\"language-text\">@match</code> rules</a></p>\n<p>A string prefixed with <code class=\"language-text\">@match</code>, and followed by a match pattern, e.g. <code class=\"language-text\">@match https://www.google.com/*</code>.</p>\n</li>\n<li>\n<p><a href=\"https://wiki.greasespot.net/Include_and_exclude_rules\"><code class=\"language-text\">@include</code> rules</a></p>\n<p>A string prefixed with <code class=\"language-text\">@include</code>, e.g. <code class=\"language-text\">@include https://*</code>.</p>\n</li>\n</ul>\n<p>If any of the rules above are matched, the URL bypasses the blacklist.\nTo make it a whitelist, we should block all other URLs by a rule at the end: <code class=\"language-text\">*</code>.</p>\n<p>Here is a full example for whitelist:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># match rules\n@match https://www.google.com/*\n\n# include rules\n@include https://example.com/*\n\n# block everything else\n*</code></pre></div>","fields":{"tagSlugs":["/tags/blacklist/","/tags/exclude/","/tags/match/"]},"frontmatter":{"title":"Smart rules for blacklist","tags":["blacklist","exclude","match"],"date":"2017-04-15T21:44:21.000Z","description":""}}},"pageContext":{"slug":"/2017/04/15/Smart-rules-for-blacklist/"}}