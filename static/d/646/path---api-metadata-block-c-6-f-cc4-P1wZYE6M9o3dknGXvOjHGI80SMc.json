{"data":{"site":{"siteMetadata":{"title":"Violentmonkey","subtitle":"An open source userscript manager.","copyright":"© All rights reserved.","menu":[{"label":"Get it","path":"/get-it/"},{"label":"API","path":"/api/"},{"label":"Blog","path":"/posts/"}],"author":{"name":"Gerald L.","email":"i@gerald.top","telegram":"gera2ld","twitter":"gera2ld","github":"gera2ld","rss":""}}},"markdownRemark":{"id":"9a69f06a-966d-520f-99c0-da510e08d31d","html":"<p>The metadata must follow the format:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ==UserScript==</span>\n<span class=\"token comment\">// @key value</span>\n<span class=\"token comment\">// ==/UserScript==</span></code></pre></div>\n<p>Each line of the block must start with <code class=\"language-text\">//</code>, the first line must be <code class=\"language-text\">// ==UserScript==</code> and the last line must be <code class=\"language-text\">// ==/UserScript==</code>. No extra space is allowed at the beginning or ending of line.</p>\n<p>Some of the keys can be localized for multiple languages, by adding a colon and the locale code to the key, e.g. <code class=\"language-text\">@name:zh-CN</code>. The locale code is case insensitive.</p>\n<p>Labels:</p>\n<ul>\n<li><span class=\"label\">required</span> The key must be set.</li>\n<li><span class=\"label\">multilingual</span> The key can be localized by appending a colon and the locale code, e.g. <code class=\"language-text\">@name:zh-CN</code>.</li>\n<li><span class=\"label\">multiple</span> The key can be set multiple times.</li>\n</ul>\n<h3>@name</h3>\n<p><span class=\"label\">required</span> <span class=\"label\">multilingual</span></p>\n<p>The name of the script, shown in script list and menus. It must be unique within a <code class=\"language-text\">@namespace</code>. If a script is being installed, and a script with the same <code class=\"language-text\">@namespace</code> and <code class=\"language-text\">@name</code> already exists, it will be replaced by the new one. Creating a script with same <code class=\"language-text\">@namespace</code> and <code class=\"language-text\">@name</code> will cause a conflict error.</p>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @name          Violentmonkey Script</span>\n<span class=\"token comment\">// @name:zh-CN    暴力猴脚本</span></code></pre></div>\n<h3>@namespace</h3>\n<p>The combination of <code class=\"language-text\">@namespace</code> and <code class=\"language-text\">@name</code> is the unique identifier for a userscript. <code class=\"language-text\">@namespace</code> can be any string, for example the homepage of a group of userscripts by the same author. If not provided the <code class=\"language-text\">@namespace</code> falls back to an empty string (<code class=\"language-text\">&#39;&#39;</code>).</p>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @namespace https://violentmonkey.github.io</span></code></pre></div>\n<h3>@match / @exclude-match</h3>\n<p><span class=\"label\">multiple</span></p>\n<p>Define rules to decide whether a script should be executed. It is recommended to use <code class=\"language-text\">@match</code> instead of <code class=\"language-text\">@include</code>.</p>\n<p>See <a href=\"../matching/\">more about matching</a>.</p>\n<h3>@include / @exclude</h3>\n<p><span class=\"label\">multiple</span></p>\n<p>The old way to decide whether a script should be executed.</p>\n<p>See <a href=\"../matching/\">more about matching</a>.</p>\n<h3>@version</h3>\n<p>Version of the script, it can be used to check if a script has new versions. It is composed of several parts, joined by <code class=\"language-text\">.</code>. Each part must start with numbers, and can be followed by alphabetic characters.</p>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @version 1.2a.3</span></code></pre></div>\n<h3>@description</h3>\n<p><span class=\"label\">multilingual</span></p>\n<p>A brief summary to describe the script.</p>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @description         This script rocks.</span>\n<span class=\"token comment\">// @description:zh-CN   这个脚本很棒！</span></code></pre></div>\n<h3>@icon</h3>\n<p>Specify an icon for the script.</p>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @icon https://my.cdn.com/icon.png</span></code></pre></div>\n<h3>@require</h3>\n<p><span class=\"label\">multiple</span></p>\n<p>Require another script to execute before the current one. The value is the URL to the required script, which may be relative to the URL the script is being installed from.</p>\n<p>The required script will be downloaded along with installation and execute before the script.</p>\n<p>Local files are not allowed to be required due to security concern. Also it does not make sense since scripts are supposed to work on different devices.</p>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @require https://my.cdn.com/jquery.js</span></code></pre></div>\n<h3>@resource</h3>\n<p><span class=\"label\">multiple</span></p>\n<p>Some static resources that can be accessed in the script by <code class=\"language-text\">GM_getResourceText</code> and <code class=\"language-text\">GM_getResourceURL</code>. The value is composed of two parts, joined with one or more white spaces. The first part is the name of the resource, no white space is allowed in it. The second part is the URL to the resource, which may be relative to the URL the script is being installed from.</p>\n<p>The resource will be downloaded along with installation and can be accessed when the script executes.</p>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @resource logo https://my.cdn.com/logo.png</span>\n<span class=\"token comment\">// @resource text https://my.cdn.com/some-text.txt</span></code></pre></div>\n<h3>@run-at</h3>\n<p>Decide when the script will execute.</p>\n<p>Several values can be set for <code class=\"language-text\">@run-at</code>:</p>\n<ul>\n<li>\n<p><code class=\"language-text\">document-end</code> <span class=\"label label-primary\">default</span></p>\n<p>The script executes when <code class=\"language-text\">DOMContentLoaded</code> is fired. At this time, the basic HTML of the page is ready and other resources like images might still be on the way.</p>\n</li>\n<li>\n<p><code class=\"language-text\">document-start</code></p>\n<p>The script executes as soon as possible. There is no guarantee for the script to execute before other scripts in the page.</p>\n<p>Note: in Greasemonkey v3, the script may be ensured to execute even before HTML is loaded, but this is impossible for Violentmonkey as a web extension.</p>\n</li>\n<li>\n<p><code class=\"language-text\">document-idle</code></p>\n<p>The script executes after <code class=\"language-text\">DOMContentLoaded</code> is fired.</p>\n</li>\n</ul>\n<h3>@noframes</h3>\n<p>When present, the script will execute only in top level document, but not in nested frames.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @noframes</span></code></pre></div>\n<h3>@grant</h3>\n<p><span class=\"label\">multiple</span></p>\n<p>Specify which special APIs should be granted and can be used when the script executes.</p>\n<p>If no <code class=\"language-text\">@grant</code> is present, <code class=\"language-text\">@grant none</code> is assumed.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @grant none</span></code></pre></div>\n<p>In this case, no special APIs are granted.</p>\n<p>If any special API is used, it must be granted:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @grant GM_getValue</span>\n<span class=\"token comment\">// @grant GM_setValue</span></code></pre></div>","frontmatter":{"title":"Metadata Block","date":"2017-12-02T21:20:04.000Z","description":""}}},"pageContext":{"slug":"/api/metadata-block"}}